<!doctype html>
<html lang="zh-Hant">
<head>
<meta charset="utf-8">
<meta name="viewport"
      content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
<title>å¤§èª¿éŸ³éšï½œä¸‰å’Œå¼¦ç´šæ•¸ç·´ç¿’</title>

<style>
/* =========================
   å…¨åŸŸå®‰å…¨è¨­å®š
========================= */
*{ box-sizing:border-box; }

html, body{
  margin:0;
  height:100%;
  overflow:hidden;
  overscroll-behavior:none;
  touch-action:none;
}

body{
  background:#0f1115;
  color:#fff;
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",
               Roboto,"Noto Sans TC","PingFang TC",sans-serif;
}

/* =========================
   æ ¸å¿ƒå°ºå¯¸ç­–ç•¥ï¼ˆå”¯ä¸€çœŸç›¸ï¼‰
========================= */
:root{
  --gap: 6px;

  /* âœ… æ°¸é ä¿ç•™çš„å·¦å³å®‰å…¨å‡ºè¡€ */
  --gutter: clamp(16px, 4vw, 28px);

  /* æ£‹ç›¤æœ€å¤§å¯¬åº¦ï¼ˆæ•™ææ„Ÿï¼‰ */
  --boardMax: 400px;

  /* å·¦å´ R / 3 / 5 çš„ä¿è­·å€ */
  --labelSpace: 34px;

  /* æ¬„æ¨™é«˜åº¦ */
  --colLabelH: 26px;

  /* ğŸ‘‰ æ£‹ç›¤å¯ç”¨å¯¬åº¦ï¼ˆé—œéµï¼‰ */
  --boardWidth: min(
    calc(100vw - (var(--gutter) * 2)),
    var(--boardMax)
  );

  /* ğŸ‘‰ æ ¼å­å°ºå¯¸ï¼šæ°¸é æ¯”æ£‹ç›¤å†å°ä¸€é» */
  --cell: clamp(
    28px,
    calc((var(--boardWidth) - var(--labelSpace) - (var(--gap) * 6)) / 7 * 0.92),
    52px
  );
}

/* =========================
   ç‰ˆé¢å®¹å™¨
========================= */
.wrapper{
  max-width:560px;
  margin:0 auto;
  padding:12px;
}

h1{
  text-align:center;
  font-size:16px;
  margin:6px 0 12px;
}

/* =========================
   æ£‹ç›¤å€ï¼ˆä¸æ»¿ç‰ˆï¼‰
========================= */
.board-wrap{
  display:flex;
  justify-content:center;
  margin-bottom:14px;
}

.board-container{
  width: var(--boardWidth);
  padding-left: var(--labelSpace);
}

/* =========================
   æ£‹ç›¤æœ¬é«”
========================= */
.board{
  position:relative;
}

/* å·¦å´ R / 3 / 5ï¼ˆæ°¸é åœ¨å®‰å…¨å€ï¼‰ */
.row-labels{
  position:absolute;
  top: var(--colLabelH);
  left: calc(-1 * var(--labelSpace));
  width: var(--labelSpace);
  display:flex;
  flex-direction:column;
  gap: var(--gap);
  align-items:flex-end;
  pointer-events:none;
}

.row-label{
  height: var(--cell);
  font-size:12px;
  font-weight:800;
  opacity:.85;
  display:flex;
  align-items:center;
  justify-content:flex-end;
}

/* 7 æ¬„æ£‹ç›¤ */
.grid-board{
  display:grid;
  grid-template-columns:repeat(7,var(--cell));
  grid-template-rows:var(--colLabelH) repeat(3,var(--cell));
  gap:var(--gap);
}

/* æ¬„æ¨™ */
.col-label{
  display:flex;
  align-items:flex-end;
  justify-content:center;
  font-size:12px;
  font-weight:800;
  opacity:.9;
}

/* ç©ºç™½æ ¼ */
.cell{
  width:var(--cell);
  height:var(--cell);
  border:1px dashed rgba(255,255,255,.4);
  border-radius:10px;
  position:relative;
}

.cell.highlight{
  border-color:#6fbaff;
  background:rgba(111,186,255,.15);
}

/* =========================
   ä¸‹æ–¹ç­”æ¡ˆæ ¼ï¼ˆåŒå¯¬ï¼‰
========================= */
.palette{
  display:flex;
  flex-direction:column;
  gap:8px;
}

.row{
  display:grid;
  grid-template-columns:repeat(7,var(--cell));
  gap:var(--gap);
  justify-content:center;
}

.tile{
  width:var(--cell);
  height:var(--cell);
  border-radius:10px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:700;
  user-select:none;
}

.palette-tile{
  background:#8a8f98;
}

/* æ‹–æ›³ */
.dragging{
  position:fixed;
  z-index:9999;
  pointer-events:none;
  transform:translate(-50%,-50%);
  background:#9aa0a8;
}

.placed{
  position:absolute;
  left:50%;
  top:50%;
  transform:translate(-50%,-50%);
  background:#6e7680;
}

/* å…¨éƒ¨åˆªé™¤ */
.clear-all{
  position:fixed;
  right:16px;
  bottom:16px;
  padding:12px 14px;
  border-radius:14px;
  background:rgba(255,255,255,.12);
  border:1px solid rgba(255,255,255,.2);
  color:#fff;
  font-weight:800;
}
</style>
</head>

<body>
<div class="wrapper">
  <h1>å¤§èª¿éŸ³éšãƒ»ä¸‰å’Œå¼¦ç´šæ•¸ç·´ç¿’</h1>

  <div class="board-wrap">
    <div class="board-container">
      <div class="board">
        <div class="row-labels">
          <div class="row-label">5</div>
          <div class="row-label">3</div>
          <div class="row-label">R</div>
        </div>

        <div class="grid-board">
          <div class="col-label">1</div>
          <div class="col-label">2m</div>
          <div class="col-label">3m</div>
          <div class="col-label">4</div>
          <div class="col-label">5</div>
          <div class="col-label">6m</div>
          <div class="col-label">7mâ™­5</div>

          <!-- 5 -->
          <div class="cell"></div><div class="cell"></div><div class="cell"></div>
          <div class="cell"></div><div class="cell"></div><div class="cell"></div><div class="cell"></div>
          <!-- 3 -->
          <div class="cell"></div><div class="cell"></div><div class="cell"></div>
          <div class="cell"></div><div class="cell"></div><div class="cell"></div><div class="cell"></div>
          <!-- R -->
          <div class="cell"></div><div class="cell"></div><div class="cell"></div>
          <div class="cell"></div><div class="cell"></div><div class="cell"></div><div class="cell"></div>
        </div>
      </div>
    </div>
  </div>

  <div class="palette" id="palette">
    <div class="row">
      <div class="tile palette-tile" data-note="C">C</div>
      <div class="tile palette-tile" data-note="D">D</div>
      <div class="tile palette-tile" data-note="E">E</div>
      <div class="tile palette-tile" data-note="F">F</div>
      <div class="tile palette-tile" data-note="G">G</div>
      <div class="tile palette-tile" data-note="A">A</div>
      <div class="tile palette-tile" data-note="B">B</div>
    </div>
    <!-- å…¶é¤˜éŸ³ååˆ—åŒå‰ï¼Œå¯ä¿ç•™ -->
  </div>
</div>

<button class="clear-all" id="clearAllBtn">å…¨éƒ¨åˆªé™¤</button>

<script>
document.addEventListener('touchmove', e=>e.preventDefault(), {passive:false});
</script>
</body>
</html>
